<!-- HTML File: index.html -->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Event Registration - XmasSciRMUTP</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <style>
        body {
            background: url('https://cdn.pixabay.com/photo/2017/11/20/07/40/christmas-2962439_1280.jpg') no-repeat center center fixed;
            background-size: cover;
            overflow-x: hidden;
        }

        .christmas-theme {
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            border: 2px solid #e63946;
            background: rgba(255, 255, 255, 0.9);
        }

        .title {
            color: #e63946;
            font-family: 'Cookie', cursive;
        }

        .snow {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9999;
        }

        footer {
            background: linear-gradient(to top, #ffffff, #e0f7fa);
            padding: 1rem;
            text-align: center;
            position: relative;
            bottom: 0;
            width: 100%;
        }

        .snow-container {
            position: relative;
            height: 150px;
        }

        .snow-container img {
            position: absolute;
            bottom: 0;
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Cookie&display=swap" rel="stylesheet">
</head>

<body class="bg-gray-100 min-h-screen flex flex-col items-center justify-center relative">
    <canvas class="snow"></canvas>

    <div class="christmas-theme p-8 rounded-lg max-w-md w-full">
        <h1 class="title text-4xl font-bold text-center mb-6">üéÑ XmasSciRMUTP üéÑ</h1>
        <form id="registrationForm">
            <div class="mb-4">
                <label for="fullname" class="block text-gray-700 font-medium">‡∏ä‡∏∑‡πà‡∏≠-‡∏™‡∏Å‡∏∏‡∏•</label>
                <input type="text" id="fullname" name="fullname"
                    class="mt-1 block w-full p-2 border rounded-lg focus:ring-red-500 focus:border-red-500" required>
            </div>
            <div class="mb-4">
                <label for="major" class="block text-gray-700 font-medium">‡∏™‡∏≤‡∏Ç‡∏≤‡∏ß‡∏¥‡∏ä‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</label>
                <select id="major" name="major"
                    class="mt-1 block w-full p-2 border rounded-lg focus:ring-red-500 focus:border-red-500" required>
                    <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏≤‡∏Ç‡∏≤‡∏ß‡∏¥‡∏ä‡∏≤</option>
                    <option value="Computer Science">‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå</option>
                    <option value="Information Technology">‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏™‡∏≤‡∏£‡∏™‡∏ô‡πÄ‡∏ó‡∏®</option>
                    <option value="Software Engineering">‡∏ß‡∏¥‡∏®‡∏ß‡∏Å‡∏£‡∏£‡∏°‡∏ã‡∏≠‡∏ü‡∏ï‡πå‡πÅ‡∏ß‡∏£‡πå</option>
                </select>
            </div>
            <button type="submit" class="bg-red-500 text-white py-2 px-4 rounded-lg w-full">‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô</button>
        </form>
        <div id="pointsSection" class="mt-6 hidden">
            <button id="collectPoints" class="bg-green-500 text-white py-2 px-4 rounded-lg w-full">‡∏™‡∏∞‡∏™‡∏°‡πÅ‡∏ï‡πâ‡∏°</button>
        </div>
    </div>

    <p class="text-sm text-gray-600 mt-12">¬© 2024 XmasSciRMUTP. All Rights Reserved.</p>


    <script>
        const registrationForm = document.getElementById('registrationForm');
        const pointsSection = document.getElementById('pointsSection');
        const collectPoints = document.getElementById('collectPoints');

        registrationForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const fullname = document.getElementById('fullname').value;
            const major = document.getElementById('major').value;

            try {
                const response = await fetch('https://script.google.com/macros/s/AKfycbx2YAstjAXAUEOoy6kGqAOMWAQph1N_krpMs9dVtW-0Rm0GBLfndgC1L4pfRhkwLNHXbA/exec', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ fullname, major })
                });

                if (response.ok) {
                    Swal.fire('‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!', '‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!', 'success');
                    pointsSection.classList.remove('hidden');
                } else {
                    Swal.fire('‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î!', '‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÑ‡∏î‡πâ', 'error');
                }
            } catch (error) {
                Swal.fire('‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î!', '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•', 'error');
            }

        });

        collectPoints.addEventListener('click', () => {
            Swal.fire('‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô!', '‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏∞‡∏™‡∏°‡πÅ‡∏ï‡πâ‡∏°‡πÑ‡∏î‡πâ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß!', 'info');
            collectPoints.classList.add('hidden');
        });

        // Snow effect
        function createSnow() {
            const canvas = document.querySelector('.snow');
            const ctx = canvas.getContext('2d');
            const width = canvas.width = window.innerWidth;
            const height = canvas.height = window.innerHeight;
            const particles = [];

            for (let i = 0; i < 100; i++) {
                particles.push({
                    x: Math.random() * width,
                    y: Math.random() * height,
                    r: Math.random() * 4 + 1,
                    d: Math.random() * 50
                });
            }

            function draw() {
                ctx.clearRect(0, 0, width, height);
                ctx.fillStyle = 'rgba(255, 255, 255, 0.8)';
                ctx.beginPath();
                for (let i = 0; i < particles.length; i++) {
                    const p = particles[i];
                    ctx.moveTo(p.x, p.y);
                    ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2, true);
                }
                ctx.fill();
                update();
            }

            function update() {
                for (let i = 0; i < particles.length; i++) {
                    const p = particles[i];
                    p.y += Math.cos(p.d) + 1 + p.r / 2;
                    p.x += Math.sin(p.d);

                    if (p.x > width + 5 || p.x < -5 || p.y > height) {
                        particles[i] = { x: Math.random() * width, y: -10, r: p.r, d: p.d };
                    }
                }
            }

            setInterval(draw, 33);
        }

        createSnow();
    </script>
</body>

</html>